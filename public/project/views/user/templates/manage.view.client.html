
<nav class="navbar navbar-default navbar-fixed-top">
    <div class="container-fluid">
        <div class="navbar-header">
            <a href="#!/user/{{model.userId}}" class="navbar-link">
              <span class="glyphicon glyphicon-chevron-left wd-glyph-left">
              </span>
            </a>
        </div>
        <a class="navbar-brand wd-navbar">
            User Management
        </a>
    </div>
</nav>


<div class="container-fluid wd-drop col-xs-12 col-sm-6">

    <div ng-show="model.alreadyRoleMessage"
         class="alert alert-danger">{{model.alreadyRoleMessage}}</div>

    <div ng-show="model.promotedMessage"
         class="alert alert-success">{{model.promotedMessage}}</div>

    <div ng-show="model.userDeletedMessage"
         class="alert alert-info">{{model.userDeletedMessage}}</div>

    <a class="input-group btn btn-block btn-success"
       href="#!/user/{{model.userId}}/manage/new">
        Create new user
    </a>

    <div class="input-group">
        <input ng-model="model.username"
               type="text"
               class="form-control"
               placeholder="Search by username">
        <span class="input-group-btn">
                <a ng-click="model.setToMultiUser()"
                   class="btn btn-default"
                   type="button">
                    <span class="glyphicon glyphicon-remove"></span>
                </a>
                <a ng-click="model.findByUsername(model.username)"
                   class="btn btn-default"
                   type="button">
                    <span class="glyphicon glyphicon-search"></span>
                </a>
        </span>
    </div>

    <div ng-show="model.noSuchUserMessage"
         class="alert alert-danger">{{model.noSuchUserMessage}}</div>

    <div ng-if="model.single==false"
         ng-repeat="u in model.allUsers"
         class="list-group-item col-xs-12">
        <ul>
            <a href="#!/user/{{model.userId}}/manage/{{u._id}}">
                <ul class="col-xs-7 col-sm-7">Username: {{u.username}}</ul>
            </a>
            <ul class="col-xs-5 col-sm-5">
                <a ng-click="model.changeRole(u, 'admin')">
                    <span class="btn btn-block btn-sm btn-success">
                        Make Admin
                    </span>
                </a>
            </ul>
        </ul>

        <ul>
            <ul class="col-xs-7 col-sm-7">Name: {{u.firstName + " " + u.lastName}}</ul>
            <ul class="col-xs-5 col-sm-5">
                <a ng-click="model.changeRole(u, 'user')">
                    <span class="btn btn-block btn-sm btn-info">
                        Make User
                    </span>
                </a>
            </ul>
        </ul>

        <ul>
            <ul class="col-xs-7 col-sm-7">Role: {{u.userRole}}</ul>
            <ul class="col-xs-5 col-sm-5">
                <a ng-click="model.deleteUser(u)">
                    <span class="btn btn-block btn-sm btn-danger">
                        Delete
                    </span>
                </a>
            </ul>
        </ul>
    </div>



    <div ng-if="model.single==true"
         class="list-group-item col-xs-12">
        <ul>
            <a href="#!/user/{{model.userId}}/manage/{{model.singleUser._id}}">
                <ul class="col-xs-7 col-sm-7">Username: {{model.singleUser.username}}</ul>
            </a>
            <ul class="col-xs-5 col-sm-5">
                <a ng-click="model.changeRole(model.singleUser, 'admin')">
                    <span class="btn btn-block btn-sm btn-success">
                        Make Admin
                    </span>
                </a>
            </ul>
        </ul>

        <ul>
            <ul class="col-xs-7 col-sm-7">Name: {{model.singleUser.firstName + " " + model.singleUser.lastName}}</ul>
            <ul class="col-xs-5 col-sm-5">
                <a ng-click="model.changeRole(model.singleUser, 'user')">
                    <span class="btn btn-block btn-sm btn-info">
                        Make User
                    </span>
                </a>
            </ul>
        </ul>

        <ul>
            <ul class="col-xs-7 col-sm-7">Role: {{model.singleUser.userRole}}</ul>
            <ul class="col-xs-5 col-sm-5">
                <a ng-click="model.deleteUser(model.singleUser)">
                    <span class="btn btn-block btn-sm btn-danger">
                        Delete
                    </span>
                </a>
            </ul>
        </ul>
    </div>

</div>

<div ng-include="'views/common/footer.view.client.html'"></div>
